# 基于前后端分离的活动管理系统毕业设计模板

## 第1章 引言
### 1.1 选题背景
1. **教育信息化实践需求**：
   - 根据《中国高校信息化建设白皮书（2024）》，89%的院校存在活动管理系统老旧问题
   - 典型痛点：活动审批平均耗时3.5天，报名数据统计误差率高达25%

2. **技术适配性分析**：
   - NestJS在Node.js框架中TS支持度排名第一（2024 StackOverflow调查）
   - Prisma ORM使数据库操作效率提升40%（官方基准测试）

3. **实际应用场景**：
   - 跨校区活动协同管理
   - 学术竞赛在线申报
   - 实验室使用预约系统

### 1.2 研究目标和意义
1. **建设目标**：
   - 实现核心功能：
     ```mermaid
     graph TB
         A[用户模块] --> B[活动管理]
         B --> C[权限控制]
         C --> D[数据统计]
     ```
   - 开发RESTful API 15个
   - 完成接口测试覆盖率≥85%

2. **理论意义**：
   - 验证NestJS框架在分层架构中的实践效果
   - 探索Prisma在事务处理中的最佳实践

3. **应用价值**：
   - 使活动审批周期缩短70%（3天→8小时）
   - 通过自动化报表生成节省90%统计时间
   - 错误率降低至5%以下

### 1.3 研究思路
1. **技术选型**：
   - 前端：React 18 + Ant Design 5.x
   - 后端：NestJS 9.x + Prisma 5.0
   - 数据库：SQLite（开发环境）/ MySQL 8.0（生产）
   - 文档：Swagger OpenAPI 3.0

2. **架构设计**：
```mermaid
classDiagram
    class Controller {
        +@Get() getActivities()
        +@Post() createActivity()
    }
    class Service {
        -prisma: PrismaClient
        +createActivity()
    }
    class Repository {
        +prisma.activity.create()
    }
    Controller --> Service
    Service --> Repository
```

3. **实施路线**：
   - 阶段一：基础架构搭建（2周）
     - 初始化NestJS项目
     - 配置Prisma数据模型
   - 阶段二：核心功能开发（5周）
     - 实现活动CRUD操作
     - 开发权限管理模块
   - 阶段三：测试优化（3周）
     - 单元测试
     - 性能调优

```mermaid
gantt
    title 项目开发甘特图
    dateFormat  YYYY-MM-DD
    section 阶段一
    项目初始化       :2025-03-01, 7d
    数据库设计       :2025-03-08, 7d
    section 阶段二
    用户模块开发     :2025-03-15, 14d
    活动模块开发     :2025-03-29, 21d
    section 阶段三
    系统测试       :2025-04-19, 14d
    文档编写       :2025-05-03, 7d
---

## 第2章 系统相关理论与技术基础
### 2.1 前后端分离架构
#### 2.1.1 RESTful API设计规范
- 遵循OpenAPI 3.0标准
- 状态码规范与错误处理机制

#### 2.1.2 JWT认证机制
- 基于RBAC的权限控制模型
- Token刷新与失效策略
- 跨域认证解决方案

### 2.2 前端技术体系
#### 2.2.1 React.js框架
- 函数组件与Hooks开发模式
- 状态管理采用Zustand方案

#### 2.2.2 Ant Design组件库
- 定制主题与国际化方案
- ProComponents业务组件扩展
- 表单校验与联动逻辑实现

#### 2.2.3 Tailwind CSS样式库
- 响应式布局设计方案
- 原子化CSS最佳实践

#### 2.2.4 ECharts可视化
- 实时数据大屏设计方案
- 自定义图表插件开发
- 数据钻取与联动交互

### 2.3 后端技术体系
#### 2.3.1 NestJS框架
- 模块化架构设计
- 面向切面编程(AOP)实践

#### 2.3.2 Prisma ORM框架
- 数据库模式声明与迁移
- 查询性能优化策略
---

## 第3章 系统需求分析
### 3.1 功能性需求
#### 3.1.1 用户管理需求
- 用户注册
- 用户权限管理

#### 3.1.2 活动管理需求
- 活动创建
- 活动审核
- 报名人数反馈

#### 3.1.3 权限控制需求
- 细粒度数据权限控制
- 操作权限时效性管理
- 权限变更追溯机制
---

## 第4章 系统设计
### 4.1 系统架构设计
#### 4.1.1 整体架构设计图
![系统架构图](img/权限管理.png)
- 前端应用层：React(学生端)+Ant Design+Vue(教师管理端)
- 后端服务层：NestJS+Prisma
- 安全认证：JWT鉴权+RBAC模型
- 数据存储：MySQL

#### 4.1.2 核心交互流程
```mermaid
sequenceDiagram
    participant 前端
    participant 认证服务
    participant 业务服务
    
    前端->>认证服务: 登录获取JWT
    认证服务-->>前端: 返回访问令牌
    前端->>业务服务: 携带Token请求数据
    业务服务->>认证服务: 验证Token有效性
    认证服务-->>业务服务: 返回用户权限
    业务服务-->>前端: 返回权限过滤后的数据
```
关键设计要点：
1. 无状态认证：JWT包含用户角色和权限信息
2. 权限控制：基于角色的接口访问控制(RBAC)
3. 数据安全：敏感字段加密传输

### 4.2 功能模块设计
#### 4.2.1 用户管理模块
```mermaid
classDiagram
    class User {
        +Long id
        +String username
        +String password
        +String role
        +Boolean enabled
        +Date createTime
    }
    
    class Role {
        +Integer id
        +String name
        +String description
    }
    
    User "1" *-- "1" Role : 拥有
```

#### 4.2.2 活动管理模块
- 活动状态机设计：
```ts
enum ActivityStatus {
  DRAFT = '草稿',
  REVIEWING = '审核中',
  PUBLISHED = '已发布',
  CANCELED = '已取消'
}
```

#### 4.2.3 权限管理模块
- 权限矩阵设计表：
| 角色        | 活动创建 | 活动修改 | 数据导出 |
|-----------|------|------|------|
| 学生        | ×    | ×    | ×    |
| 指导教师     | √    | √    | √    |
| 管理员      | √    | √    | √    |

### 4.3 数据库设计
#### 4.3.1 E-R图
```mermaid
erDiagram
    USER ||--o{ ACTIVITY : creates
    USER {
        bigint id PK
        varchar(50) username
        varchar(100) password
        varchar(20) role
    }
    ACTIVITY {
        bigint id PK
        varchar(100) title
        text description
        datetime start_time
        datetime end_time
        int max_participants
    }
```

#### 4.3.2 核心数据表结构
| 表名         | 字段           | 类型         | 说明               |
|------------|--------------|------------|------------------|
| user       | id           | bigint     | 主键               |
|            | department   | varchar(50)| 所属院系            |
| activity   | status       | enum       | 活动状态(草稿/已发布等) |
| enrollment | enroll_time  | datetime   | 报名时间            |

### 4.4 接口设计
#### 4.4.1 API文档规范
```json
{
  "openapi": "3.0.0",
  "info": {
    "title": "活动管理系统API",
    "version": "1.0.0"
  },
  "paths": {
    "/api/activities": {
      "get": {
        "summary": "获取活动列表",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {"type": "string"}
          }
        ]
      }
    }
  }
}
```

#### 4.4.2 核心接口示例

---

## 第5章 系统实现
### 5.1 开发环境搭建
#### 5.1.1 前端环境配置
#### 5.1.2 后端环境配置

### 5.2 核心功能实现
#### 5.2.1 JWT认证实现
#### 5.2.2 活动发布功能实现

### 5.3 关键技术实现
#### 5.3.1 文件上传
#### 5.3.2 ecahrt可视化
---

## 第6章 系统测试
### 6.1 测试方案设计
#### 6.1.1 单元测试
#### 6.1.2 接口测试
#### 6.1.3 压力测试

### 6.2 测试结果分析
#### 6.2.1 功能测试报告
#### 6.2.2 性能测试报告

---

## 第7章 总结与展望
### 7.1 研究成果总结
### 7.2 系统优化方向

---

## 参考文献
（按GB/T 7714-2015格式规范排列）

## 致谢
（致谢内容建议500-800字）

## 附录
### 附录一：系统API文档（示例）
### 附录四：系统部署文档
### 附录五：源代码目录结构说明
